<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicroForge Arena - RTS Training</title>
    <link rel="stylesheet" href="microforge-v2-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öîÔ∏è</text></svg>">
</head>
<body>
    <!-- Fullscreen Training Arena -->
    <div class="training-arena hidden" id="trainingArena">
        <canvas id="gameCanvas" class="game-canvas"></canvas>
        
        <!-- Arena HUD -->
        <div class="arena-hud">
            <div class="hud-top">
                <div class="stats-display">
                    <div class="stat-item">
                        <span class="stat-icon">üéØ</span>
                        <span class="stat-value" id="arena-score">0</span>
                        <span class="stat-label">Puntos</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚ö°</span>
                        <span class="stat-value" id="arena-cpm">0</span>
                        <span class="stat-label">CPM</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">üé™</span>
                        <span class="stat-value" id="arena-accuracy">100%</span>
                        <span class="stat-label">Precisi√≥n</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-icon">‚è±Ô∏è</span>
                        <span class="stat-value" id="arena-timer">60</span>
                        <span class="stat-label">Tiempo</span>
                    </div>
                </div>
                
                <div class="arena-controls">
                    <button class="arena-btn pause-btn" id="arena-pause" title="Pausar">‚è∏Ô∏è</button>
                    <button class="arena-btn exit-btn" id="arena-exit" title="Salir">‚ùå</button>
                </div>
            </div>
            
            <!-- Reaction Time Display -->
            <div class="reaction-display hidden" id="reactionDisplay">
                <span class="reaction-label">Reacci√≥n:</span>
                <span class="reaction-time" id="reactionTime">0ms</span>
            </div>
            
            <!-- Combo Display -->
            <div class="combo-display hidden" id="comboDisplay">
                <span class="combo-text">COMBO</span>
                <span class="combo-multiplier">x</span>
                <span class="combo-count" id="comboCount">0</span>
            </div>
            
            <!-- Miss Penalty Display -->
            <div class="penalty-display hidden" id="penaltyDisplay">
                <span class="penalty-text">MISS!</span>
                <span class="penalty-value" id="penaltyValue">-10</span>
            </div>
        </div>
        
        <!-- Arena Notifications -->
        <div class="arena-notifications" id="arenaNotifications"></div>
        
        <!-- Pause Overlay -->
        <div class="pause-overlay hidden" id="pauseOverlay">
            <div class="pause-content">
                <h2>‚è∏Ô∏è Entrenamiento Pausado</h2>
                <p>Presiona ESPACIO o haz clic en Reanudar para continuar</p>
                <div class="pause-actions">
                    <button class="arena-btn primary" id="resume-btn">‚ñ∂Ô∏è Reanudar</button>
                    <button class="arena-btn secondary" id="exit-pause-btn">üè† Salir</button>
                </div>
            </div>
        </div>
        
        <!-- Arena Results -->
        <div class="arena-results hidden" id="arenaResults">
            <div class="results-modal">
                <h2>üèÜ Resultados de Caza</h2>
                <div class="hunt-summary">
                    <div class="hunt-icon">üêó</div>
                    <div class="hunt-text" id="huntText">¬°Excelente caza!</div>
                </div>
                <div class="final-stats">
                    <div class="final-stat">
                        <span class="final-icon">üéØ</span>
                        <span class="final-label">Jabal√≠es Cazados</span>
                        <span class="final-value" id="final-hits">0</span>
                    </div>
                    <div class="final-stat">
                        <span class="final-icon">‚ö°</span>
                        <span class="final-label">CPM Final</span>
                        <span class="final-value" id="final-cpm">0</span>
                    </div>
                    <div class="final-stat">
                        <span class="final-icon">üé™</span>
                        <span class="final-label">Precisi√≥n</span>
                        <span class="final-value" id="final-precision">0%</span>
                    </div>
                    <div class="final-stat">
                        <span class="final-icon">‚ö°</span>
                        <span class="final-label">Reacci√≥n Promedio</span>
                        <span class="final-value" id="final-reaction">0ms</span>
                    </div>
                </div>
                <div class="performance-analysis" id="performanceAnalysis">
                    <!-- Generated dynamically -->
                </div>
                <div class="results-actions">
                    <button class="arena-btn primary" onclick="arena.restart()">üîÑ Cazar de Nuevo</button>
                    <button class="arena-btn secondary" onclick="arena.exitToMenu()">üè† Volver al Men√∫</button>
                    <button class="arena-btn share" onclick="arena.shareResults()">üì§ Compartir</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Interface -->
    <div class="forge-interface" id="forgeInterface">
        <!-- Header -->
        <header class="forge-header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <span class="logo-icon">‚öîÔ∏è</span>
                        <h1 class="logo-text">MicroForge</h1>
                        <span class="version">Arena</span>
                    </div>
                    <div class="motto">
                        <p class="tagline">"¬øCrees que puedes cazar dos jabal√≠es sin perder un aldeano?"</p>
                        <p class="subtitle">Este m√≥dulo te entrena para que cada clic cuente, como en el campo de batalla.</p>
                    </div>
                    <a href="gaming.html" class="back-link">üè† Volver</a>
                </div>
            </div>
        </header>

        <!-- Training Selection -->
        <main class="forge-main">
            <div class="container">
                <!-- Module Selection -->
                <section class="module-selection">
                    <h2 class="section-title">üèπ Arena de Entrenamiento</h2>
                    <p class="section-subtitle">Selecciona tu modalidad de caza y forja tu precisi√≥n</p>
                    
                    <div class="training-grid">
                        <!-- Precision Hunt -->
                        <div class="training-card precision" data-mode="precision">
                            <div class="card-background forest"></div>
                            <div class="card-content">
                                <div class="training-icon">üéØ</div>
                                <h3 class="training-title">Caza de Precisi√≥n</h3>
                                <p class="training-description">
                                    Jabal√≠es peque√±os y veloces. Cada clic debe ser perfecto.
                                    Entrena tu micro con objetivos diminutos.
                                </p>
                                <div class="training-stats">
                                    <span class="difficulty hard">Dif√≠cil</span>
                                    <span class="stat-badge precision">Precisi√≥n++</span>
                                </div>
                                <div class="training-config">
                                    <div class="config-item">
                                        <span>Tama√±o:</span>
                                        <span class="value">Peque√±o</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Velocidad:</span>
                                        <span class="value">R√°pida</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Puntos:</span>
                                        <span class="value">x2</span>
                                    </div>
                                </div>
                                <button class="launch-btn">üèπ Iniciar Caza</button>
                            </div>
                        </div>

                        <!-- Speed Hunt -->
                        <div class="training-card speed" data-mode="speed">
                            <div class="card-background plains"></div>
                            <div class="card-content">
                                <div class="training-icon">‚ö°</div>
                                <h3 class="training-title">Caza Veloz</h3>
                                <p class="training-description">
                                    Jabal√≠es grandes y abundantes. Maximiza tu CPM 
                                    con clicks r√°pidos y continuos.
                                </p>
                                <div class="training-stats">
                                    <span class="difficulty medium">Medio</span>
                                    <span class="stat-badge speed">Velocidad++</span>
                                </div>
                                <div class="training-config">
                                    <div class="config-item">
                                        <span>Tama√±o:</span>
                                        <span class="value">Grande</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Cantidad:</span>
                                        <span class="value">Alta</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Puntos:</span>
                                        <span class="value">x1</span>
                                    </div>
                                </div>
                                <button class="launch-btn">‚ö° Iniciar Caza</button>
                            </div>
                        </div>

                        <!-- Strategic Hunt -->
                        <div class="training-card strategy" data-mode="strategy">
                            <div class="card-background forest-dense"></div>
                            <div class="card-content">
                                <div class="training-icon">üß†</div>
                                <h3 class="training-title">Caza Estrat√©gica</h3>
                                <p class="training-description">
                                    Jabal√≠es aparecen cerca de obst√°culos. Simula entorno 
                                    real de AoE2 con elementos del mapa.
                                </p>
                                <div class="training-stats">
                                    <span class="difficulty expert">Experto</span>
                                    <span class="stat-badge strategy">Estrategia++</span>
                                </div>
                                <div class="training-config">
                                    <div class="config-item">
                                        <span>Entorno:</span>
                                        <span class="value">Bosque</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Obst√°culos:</span>
                                        <span class="value">S√≠</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Puntos:</span>
                                        <span class="value">x3</span>
                                    </div>
                                </div>
                                <button class="launch-btn">üß† Iniciar Caza</button>
                            </div>
                        </div>

                        <!-- Combo Hunt -->
                        <div class="training-card combo" data-mode="combo">
                            <div class="card-background mixed"></div>
                            <div class="card-content">
                                <div class="training-icon">üî•</div>
                                <h3 class="training-title">Caza + Construcci√≥n</h3>
                                <p class="training-description">
                                    Caza jabal√≠es Y construye edificios. Multitarea 
                                    real como en partidas competitivas.
                                </p>
                                <div class="training-stats">
                                    <span class="difficulty extreme">Extremo</span>
                                    <span class="stat-badge combo">Multitarea++</span>
                                </div>
                                <div class="training-config">
                                    <div class="config-item">
                                        <span>Tareas:</span>
                                        <span class="value">Mixtas</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Presi√≥n:</span>
                                        <span class="value">M√°xima</span>
                                    </div>
                                    <div class="config-item">
                                        <span>Puntos:</span>
                                        <span class="value">x5</span>
                                    </div>
                                </div>
                                <button class="launch-btn">üî• Iniciar Caza</button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Configuration Panel -->
                <section class="config-panel">
                    <h3 class="config-title">‚öôÔ∏è Configuraci√≥n de Entrenamiento</h3>
                    <div class="config-grid">
                        <div class="config-group">
                            <label for="duration">‚è±Ô∏è Duraci√≥n</label>
                            <select id="duration" class="config-select">
                                <option value="30">30 segundos</option>
                                <option value="60" selected>60 segundos</option>
                                <option value="120">2 minutos</option>
                                <option value="0">Ilimitado</option>
                            </select>
                        </div>
                        
                        <div class="config-group">
                            <label for="targetSize">üéØ Tama√±o de Objetivos</label>
                            <select id="targetSize" class="config-select">
                                <option value="small">Peque√±o (30px)</option>
                                <option value="medium" selected>Medio (50px)</option>
                                <option value="large">Grande (70px)</option>
                            </select>
                        </div>
                        
                        <div class="config-group">
                            <label for="spawnRate">‚ö° Velocidad de Aparici√≥n</label>
                            <select id="spawnRate" class="config-select">
                                <option value="slow">Lenta (2s)</option>
                                <option value="normal" selected>Normal (1.5s)</option>
                                <option value="fast">R√°pida (1s)</option>
                                <option value="extreme">Extrema (0.5s)</option>
                            </select>
                        </div>
                        
                        <div class="config-group">
                            <label for="theme">üé® Tema Visual</label>
                            <select id="theme" class="config-select">
                                <option value="forest" selected>Bosque</option>
                                <option value="desert">Desierto</option>
                                <option value="plains">Praderas</option>
                                <option value="winter">Invierno</option>
                            </select>
                        </div>
                        
                        <div class="config-group">
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="soundEnabled" checked>
                                    <span class="checkmark"></span>
                                    üîä Sonidos
                                </label>
                            </div>
                        </div>
                        
                        <div class="config-group">
                            <div class="checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="showReactionTime" checked>
                                    <span class="checkmark"></span>
                                    ‚è±Ô∏è Mostrar tiempo de reacci√≥n
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Statistics Dashboard -->
                <section class="stats-dashboard">
                    <h3 class="stats-title">üìä Historial de Entrenamientos</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üèÜ</div>
                            <div class="stat-info">
                                <span class="stat-number" id="best-score">0</span>
                                <span class="stat-label">Mejor Puntuaci√≥n</span>
                            </div>
                            <div class="stat-trend" id="score-trend">üìà</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">‚ö°</div>
                            <div class="stat-info">
                                <span class="stat-number" id="best-cpm">0</span>
                                <span class="stat-label">Mejor CPM</span>
                            </div>
                            <div class="stat-trend" id="cpm-trend">üìà</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üéØ</div>
                            <div class="stat-info">
                                <span class="stat-number" id="best-accuracy">0%</span>
                                <span class="stat-label">Mejor Precisi√≥n</span>
                            </div>
                            <div class="stat-trend" id="accuracy-trend">üìà</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-info">
                                <span class="stat-number" id="total-sessions">0</span>
                                <span class="stat-label">Sesiones Totales</span>
                            </div>
                            <div class="stat-trend">üéÆ</div>
                        </div>
                    </div>
                </section>

                <!-- Quick Start -->
                <section class="quick-start">
                    <h3 class="quick-title">üöÄ Inicio R√°pido</h3>
                    <p class="quick-subtitle">Salta directamente a la acci√≥n</p>
                    <div class="quick-actions">
                        <button class="quick-btn precision" data-mode="precision">
                            <span class="quick-icon">üéØ</span>
                            <span class="quick-label">Precisi√≥n</span>
                        </button>
                        <button class="quick-btn speed" data-mode="speed">
                            <span class="quick-icon">‚ö°</span>
                            <span class="quick-label">Velocidad</span>
                        </button>
                        <button class="quick-btn strategy" data-mode="strategy">
                            <span class="quick-icon">üß†</span>
                            <span class="quick-label">Estrategia</span>
                        </button>
                        <button class="quick-btn combo" data-mode="combo">
                            <span class="quick-icon">üî•</span>
                            <span class="quick-label">Combo</span>
                        </button>
                    </div>
                </section>
            </div>
        </main>

        <!-- Footer -->
        <footer class="forge-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-left">
                        <p>‚öîÔ∏è MicroForge Arena</p>
                        <p>"Cada clic cuenta, como en el campo de batalla"</p>
                    </div>
                    <div class="footer-center">
                        <div class="social-links">
                            <span>üéÆ Comparte tu progreso:</span>
                            <button class="social-btn" onclick="arena.shareBest()">üì§ Compartir r√©cord</button>
                        </div>
                    </div>
                    <div class="footer-right">
                        <p>Dise√±ado para conquistadores üëë</p>
                        <a href="gaming.html" class="footer-link">Volver a Gaming</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="microforge-v2-script.js"></script>
    
    <!-- Funciones globales para botones de resultados -->
    <script>
        function restartArena() {
            if (window.arena) {
                window.arena.restart();
            }
        }
        
        function exitToMenu() {
            if (window.arena) {
                window.arena.exitToMenu();
            }
        }
        
        function shareResults() {
            if (window.arena) {
                window.arena.shareResults();
            }
        }
        
        function shareBest() {
            if (window.arena) {
                window.arena.shareBest();
            }
        }
    </script>
</body>
</html>
